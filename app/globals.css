@tailwind base;
@tailwind components;
@tailwind utilities;

/* =====================================================================
   DESIGN TOKEN LAYER
   All colour values are in "h s% l%" format (no hsl() wrapper) so
   Tailwind can compose them with opacity modifiers: e.g. bg-primary/80
   ===================================================================== */

@layer base {
  :root {
    /* Palette rationale — parchment base gives the site a literary,
       handwriting-on-paper feel; all other tones are derived from
       classic writing materials (ink, gold, burgundy). */

    --background:         39 33% 95%;   /* #F5F0E8 — warm parchment  */
    --foreground:         44 14%  9%;   /* #1C1A14 — deep warm black */

    --card:               39 47% 97%;   /* #FAF7F2 — near-white paper */
    --card-foreground:    44 14%  9%;

    --popover:            39 47% 97%;
    --popover-foreground: 44 14%  9%;

    --primary:            37 42% 53%;   /* #B8965A — muted gold       */
    --primary-foreground: 44 14%  9%;

    --secondary:         213 52% 23%;   /* #1B3A5C — ink blue         */
    --secondary-foreground: 39 33% 95%;

    --muted:              39 15% 88%;   /* light warm grey            */
    --muted-foreground:   32  8% 44%;   /* #7A7268 — warm mid-grey    */

    --accent:            351 45% 32%;   /* #7A2D3C — burgundy         */
    --accent-foreground:  39 33% 95%;

    --destructive:         0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border:             37 15% 80%;   /* #D8D0C0 — warm light rule  */
    --input:              37 15% 80%;
    --ring:               37 42% 53%;   /* gold focus ring            */

    --radius: 0.375rem;
  }
}

/* =====================================================================
   BASE STYLES
   ===================================================================== */

@layer base {
  * {
    @apply border-border;
    box-sizing: border-box;
  }

  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground;
    font-family: var(--font-lora), Georgia, "Times New Roman", serif;
    line-height: 1.75;
    font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
    font-size: 1rem;
  }

  /* Heading font assignment — Playfair Display gives every heading a
     distinctive editorial character; tighter tracking reinforces density. */
  h1, h2, h3, h4, h5, h6,
  .font-display {
    font-family: var(--font-playfair), Georgia, "Times New Roman", serif;
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.15;
    color: #1C1A14;
  }

  /* Refined link states */
  a {
    color: inherit;
    text-decoration: none;
  }

  /* Focus visible — gold ring for keyboard users */
  :focus-visible {
    outline: 2px solid #B8965A;
    outline-offset: 3px;
    border-radius: 3px;
  }
}

/* =====================================================================
   COMPONENT / UTILITY LAYER
   ===================================================================== */

@layer utilities {
  /* ── Paper-texture background ── */
  /* Two soft gradient washes give depth, evoking light and shadow
     on a sheet of quality stationery paper. */
  .bg-paper-texture {
    background-color: #F5F0E8;
    background-image:
      radial-gradient(ellipse at 0% 0%,   rgba(184, 150,  90, 0.05) 0%, transparent 55%),
      radial-gradient(ellipse at 100% 100%, rgba( 27,  58,  92, 0.04) 0%, transparent 55%);
  }

  /* ── Ink-wash background (dark sections: hero, services) ── */
  .bg-ink-texture {
    background-color: #1B3A5C;
    background-image:
      radial-gradient(ellipse at 15% 60%, rgba(184, 150, 90, 0.12) 0%, transparent 55%),
      radial-gradient(ellipse at 85% 20%, rgba(245, 240, 232, 0.05) 0%, transparent 50%);
  }

  /* ── Warm dark footer ── */
  .bg-footer {
    background-color: #1C1A14;
    background-image:
      radial-gradient(ellipse at 50% 100%, rgba( 27, 58, 92, 0.3) 0%, transparent 70%);
  }

  /* ── Gold divider rule ── */
  .gold-rule {
    height: 1px;
    background: linear-gradient(90deg, transparent, #B8965A 30%, #D4B483 50%, #B8965A 70%, transparent);
    opacity: 0.6;
  }

  /* ── Gold text gradient ── */
  .text-gold-gradient {
    background: linear-gradient(135deg, #8B6E3A 0%, #B8965A 40%, #D4B483 65%, #B8965A 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* ── Scroll-reveal: invisible until IntersectionObserver fires ── */
  .reveal {
    opacity: 0;
    transform: translateY(24px);
    transition: opacity 0.75s cubic-bezier(0.22, 1, 0.36, 1),
                transform 0.75s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .reveal.in-view {
    opacity: 1;
    transform: translateY(0);
  }
  /* Staggered children */
  .reveal-stagger > * {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.65s cubic-bezier(0.22, 1, 0.36, 1),
                transform 0.65s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .reveal-stagger.in-view > *:nth-child(1) { opacity: 1; transform: none; transition-delay: 0ms;   }
  .reveal-stagger.in-view > *:nth-child(2) { opacity: 1; transform: none; transition-delay: 100ms; }
  .reveal-stagger.in-view > *:nth-child(3) { opacity: 1; transform: none; transition-delay: 200ms; }
  .reveal-stagger.in-view > *:nth-child(4) { opacity: 1; transform: none; transition-delay: 300ms; }
  .reveal-stagger.in-view > *:nth-child(5) { opacity: 1; transform: none; transition-delay: 400ms; }
  .reveal-stagger.in-view > *:nth-child(6) { opacity: 1; transform: none; transition-delay: 500ms; }
  .reveal-stagger.in-view > *:nth-child(7) { opacity: 1; transform: none; transition-delay: 600ms; }
  .reveal-stagger.in-view > *:nth-child(8) { opacity: 1; transform: none; transition-delay: 700ms; }

  /* Honour user preference — no motion at all */
  @media (prefers-reduced-motion: reduce) {
    .reveal,
    .reveal-stagger > * {
      opacity: 1;
      transform: none;
      transition: none;
    }
  }

  /* ── Card hover lift ── */
  .card-hover {
    transition: transform 0.25s cubic-bezier(0.22, 1, 0.36, 1),
                box-shadow 0.25s cubic-bezier(0.22, 1, 0.36, 1);
  }
  .card-hover:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 40px -8px rgba(27, 58, 92, 0.18),
                0 4px 12px -2px rgba(27, 58, 92, 0.1);
  }
  @media (prefers-reduced-motion: reduce) {
    .card-hover:hover {
      transform: none;
    }
  }

  /* ── Decorative handwriting underline ── */
  .underline-gold {
    text-decoration: underline;
    text-decoration-color: #B8965A;
    text-underline-offset: 5px;
    text-decoration-thickness: 2px;
  }

  /* ── Section label — small uppercase spaced text above headings ── */
  .section-label {
    font-family: var(--font-lora), Georgia, serif;
    font-size: 0.6875rem;
    font-weight: 600;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    color: #B8965A;
  }
}

/* =====================================================================
   GLOBAL SCROLLBAR (webkit)
   ===================================================================== */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #F5F0E8; }
::-webkit-scrollbar-thumb { background: #D8D0C0; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #B8965A; }
